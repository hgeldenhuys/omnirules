<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:12,&quot;tests&quot;:44,&quot;passes&quot;:44,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2019-06-08T19:39:52.901Z&quot;,&quot;end&quot;:&quot;2019-06-08T19:39:54.753Z&quot;,&quot;duration&quot;:1852,&quot;testsRegistered&quot;:44,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;536f61b2-cf20-4d8b-8150-c92a730eaceb&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;eb057413-f192-408b-ad05-86afb5a6e767&quot;,&quot;title&quot;:&quot;Basics: Inputs&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_basics.ts&quot;,&quot;file&quot;:&quot;/test/test_basics.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deserialize input&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Deserialize input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String }],\n    outputs: [{ name: \&quot;FullName\&quot;, code: \&quot;Name + &#x27; &#x27; + LastName\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar BOM = decisionObject.generateSampleBOM();\nchai_1.expect(BOM.getValue(\&quot;Name\&quot;)).to.equal(\&quot;A string\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aae17fb6-06c1-4003-9851-2de8922131c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Procedurally add input&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Procedurally add input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String }],\n    outputs: [{ name: \&quot;FullName\&quot;, code: \&quot;Name + &#x27; &#x27; + LastName\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\ndecisionObject.builder.withInput(\&quot;LastName\&quot;).asString(\&quot;Geldenhuys\&quot;);\nvar BOM = decisionObject.generateSampleBOM();\nchai_1.expect(BOM.getValue(\&quot;LastName\&quot;)).to.equal(\&quot;Geldenhuys\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f1af9aee-7ca3-4692-88b3-a3cd3c476f32&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deserialize output&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Deserialize output&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Herman&#x27;\&quot; }, { name: \&quot;LastName\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Geldenhuys&#x27;\&quot; }],\n    outputs: [{ name: \&quot;FullName\&quot;, code: \&quot;Name + &#x27; &#x27; + LastName\&quot;, dataType: author_1.DataTypeEnum.String }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar BOM = decisionObject.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run();\nchai_1.expect(BOM.getValue(\&quot;FullName\&quot;)).to.equal(\&quot;Herman Geldenhuys\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;54da3ca8-22df-49cc-babd-28b5aac35cc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Procedurally add output&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Procedurally add output&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Hendrik&#x27;\&quot; }, { name: \&quot;LastName\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Geldenhuys&#x27;\&quot; }],\n    outputs: []\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\ndecisionObject.builder.withOutput(\&quot;FullName\&quot;).asString().usingCode(\&quot;Name + &#x27; &#x27; + LastName\&quot;);\nvar BOM = decisionObject.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: false });\nchai_1.expect(BOM.getValue(\&quot;FullName\&quot;)).to.equal(\&quot;Hendrik Geldenhuys\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;93f26322-0ddf-42e2-be09-2ad53b35d47a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Schema Version Hash&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Schema Version Hash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: []\n});\nchai_1.expect(ruleSet.generateSampleBOM().SchemaVersion).to.equals(\&quot;d41d8cd98f00b204e9800998ecf8427e\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2e276192-0361-44ae-8574-5dadd35df102&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DataTypes&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs DataTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: [],\n    ruleContext: {\n        name: \&quot;Testing\&quot;,\n        enumerations: [{\n                name: \&quot;Colour\&quot;,\n                values: [{\n                        value: \&quot;Green\&quot;\n                    }]\n            }]\n    }\n});\nruleSet.builder\n    .withInput(\&quot;AString\&quot;).asString(\&quot;ABC\&quot;).comma()\n    .withInput(\&quot;ADecimal\&quot;).asDecimal(12.3).comma()\n    .withInput(\&quot;AnInteger\&quot;).asInteger(123).comma()\n    .withInput(\&quot;ABoolean\&quot;).asBoolean(true).comma()\n    .withInput(\&quot;ADate\&quot;).asDate().comma()\n    .withInput(\&quot;AnEnum\&quot;).asEnum(\&quot;Colour\&quot;, \&quot;Green\&quot;).comma()\n    .withInput(\&quot;AList\&quot;).asList([123, 456]).comma()\n    .withInput(\&quot;AnObject\&quot;).asObject({ abc: 123 });\nchai_1.expect(ruleSet.getInput(\&quot;AString\&quot;).dataType).to.equals(author_1.DataTypeEnum.String);\nchai_1.expect(ruleSet.getInput(\&quot;ADecimal\&quot;).dataType).to.equals(author_1.DataTypeEnum.Decimal);\nchai_1.expect(ruleSet.getInput(\&quot;AnInteger\&quot;).dataType).to.equals(author_1.DataTypeEnum.Integer);\nchai_1.expect(ruleSet.getInput(\&quot;ABoolean\&quot;).dataType).to.equals(author_1.DataTypeEnum.Boolean);\nchai_1.expect(ruleSet.getInput(\&quot;ADate\&quot;).dataType).to.equals(author_1.DataTypeEnum.Date);\nchai_1.expect(ruleSet.getInput(\&quot;AnEnum\&quot;).dataType).to.equals(author_1.DataTypeEnum.Enum);\nchai_1.expect(ruleSet.getInput(\&quot;AList\&quot;).dataType).to.equals(author_1.DataTypeEnum.List);\nchai_1.expect(ruleSet.getInput(\&quot;AnObject\&quot;).dataType).to.equals(author_1.DataTypeEnum.Object);\nruleSet.builder\n    .withInput(\&quot;AnObject\&quot;).remove().withInput(\&quot;AString\&quot;).remove();\nchai_1.expect(ruleSet.getInput(\&quot;AString\&quot;)).to.equals(undefined);\nchai_1.expect(ruleSet.getInput(\&quot;AnObject\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f4b1fac7-333c-49df-9eae-bb9ddf3ca08f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Calculating Peekaboo&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Calculating Peekaboo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: []\n});\nruleSet.builder\n    .withInput(\&quot;PeekA\&quot;).asString(\&quot;BOO\&quot;).comma()\n    .withInput(\&quot;options.ABoolean\&quot;).asBoolean(true).comma()\n    .withOutput(\&quot;I\&quot;).usingCode(\&quot;&#x27;See You!&#x27;\&quot;);\nvar decisionObject = new author_1.DecisionObject(undefined, ruleSet);\nvar bom = ruleSet.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, bom, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;08a2027b-0bf9-4cb8-8a16-b4a7b86fb875&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Calculating Peekaboo with 1 conditional true then false&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Calculating Peekaboo with 1 conditional true then false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: []\n});\nruleSet.builder\n    .withInput(\&quot;PeekA\&quot;).asString(\&quot;BOO\&quot;).comma()\n    .withInput(\&quot;options.ABoolean\&quot;).asBoolean(true).comma()\n    .withOutput(\&quot;I\&quot;).usingCode(\&quot;&#x27;See You!&#x27;\&quot;);\nvar bom = ruleSet.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nruleSet.builder\n    .withOutput(\&quot;I\&quot;).ifTrueThat(\&quot;ABoolean\&quot;);\nbom = ruleSet.generateSampleBOM();\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nbom = ruleSet.generateSampleBOM();\nbom.setValue(\&quot;options.ABoolean\&quot;, false);\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9576e59e-e1e8-4e2e-9d2f-68d555c97802&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Calculating Peekaboo with multiple conditional&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Calculating Peekaboo with multiple conditional&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: [],\n    name: \&quot;Peekaboo\&quot;\n});\nruleSet.builder\n    .withInput(\&quot;PeekA\&quot;).asString(\&quot;BOO\&quot;).comma()\n    .withInput(\&quot;options.ABoolean\&quot;).asBoolean(true).comma()\n    .withOutput(\&quot;I\&quot;).usingCode(\&quot;&#x27;See You!&#x27;\&quot;)\n    .ifTrueThat(\&quot;ABoolean\&quot;).and()\n    .ifTrueThat(\&quot;PeekA===&#x27;BOO&#x27;\&quot;);\nvar bom = ruleSet.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nruleSet.builder\n    .withOutput(\&quot;I\&quot;);\nbom = ruleSet.generateSampleBOM();\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nbom = ruleSet.generateSampleBOM();\nbom.setValue(\&quot;options.ABoolean\&quot;, false);\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(undefined);\nchai_1.expect(bom.getValue(\&quot;engine.Peekaboo.conditions.I_1_ABooleanIsTrue\&quot;)).to.equals(false);\nchai_1.expect(bom.getValue(\&quot;engine.Peekaboo.conditions.I_2_PeekAIsEqualTo_BOO_IsTrue\&quot;)).to.equals(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a4d80ccd-e01d-409b-9c8a-3f316b2d0796&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;aae17fb6-06c1-4003-9851-2de8922131c7&quot;,&quot;f1af9aee-7ca3-4692-88b3-a3cd3c476f32&quot;,&quot;54da3ca8-22df-49cc-babd-28b5aac35cc8&quot;,&quot;93f26322-0ddf-42e2-be09-2ad53b35d47a&quot;,&quot;2e276192-0361-44ae-8574-5dadd35df102&quot;,&quot;f4b1fac7-333c-49df-9eae-bb9ddf3ca08f&quot;,&quot;08a2027b-0bf9-4cb8-8a16-b4a7b86fb875&quot;,&quot;9576e59e-e1e8-4e2e-9d2f-68d555c97802&quot;,&quot;a4d80ccd-e01d-409b-9c8a-3f316b2d0796&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:19,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ab42ff58-4132-42d8-b8a8-2235721f2b49&quot;,&quot;title&quot;:&quot;Retirement: DecisionObject&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisionobject.ts&quot;,&quot;file&quot;:&quot;/test/test_decisionobject.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;10 years to go if retirement age is 60&quot;,&quot;fullTitle&quot;:&quot;Retirement: DecisionObject 10 years to go if retirement age is 60&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 50, AgeToRetirement: RETIREMENT_AGE };\nengine.withBom(BOM).run();\nvar result = BOM[setup_decisionobject_1.yearsToGo.path];\nchai_1.expect(result).to.equal(10);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b1f86c75-944d-47f0-937d-26175be31082&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Can retire, at last at 61&quot;,&quot;fullTitle&quot;:&quot;Retirement: DecisionObject Can retire, at last at 61&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 61, AgeToRetirement: RETIREMENT_AGE };\nengine.withBom(BOM).run({ withStats: true });\nvar result = BOM[setup_decisionobject_1.canRetire.path];\nchai_1.expect(result).to.equal(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;731aa13f-462c-4fa2-a4c4-51106514d3c6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b1f86c75-944d-47f0-937d-26175be31082&quot;,&quot;731aa13f-462c-4fa2-a4c4-51106514d3c6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7bd37384-e002-45b8-b30c-1c76f9a7dd7f&quot;,&quot;title&quot;:&quot;Eligibility: DecisionTable&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;11 year old female  = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 11 year old female  = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 11, Gender: \&quot;Female\&quot; };\nengine.withBom(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.path];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2530d839-e1e7-448c-b76c-d5c11a0bc786&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;13 year old male    = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 13 year old male    = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 13, Gender: \&quot;Male\&quot; };\nengine.withBom(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.path];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8137a263-4085-4ff8-998a-c39e7244b87e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;18 year old female  = ✓&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 18 year old female  = ✓&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 18, Gender: \&quot;Female\&quot; };\nengine.withBom(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.name];\nchai_1.expect(result).to.equal(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ed5e4d14-47bd-44bb-ba07-03f8805bcaab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;18 year old male    = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 18 year old male    = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 18, Gender: \&quot;Male\&quot; };\nengine.withBom(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.path];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ee2d7721-4274-401b-9f61-1786182fe7bf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;21 year old male    = ✓&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 21 year old male    = ✓&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 21, Gender: \&quot;Male\&quot; };\nengine.withBom(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.path];\nchai_1.expect(result).to.equal(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;55567792-7b1e-4112-bdd3-887d76358f2e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;18 year old them    = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 18 year old them    = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bom = { Age: 18, Gender: \&quot;Any\&quot; };\nengine.withBom(bom).run();\nvar result = bom[setup_decisiontable_1.eligibleOutput.path];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c52211f3-95a5-4d0f-acd9-f052052a33e3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2530d839-e1e7-448c-b76c-d5c11a0bc786&quot;,&quot;8137a263-4085-4ff8-998a-c39e7244b87e&quot;,&quot;ed5e4d14-47bd-44bb-ba07-03f8805bcaab&quot;,&quot;ee2d7721-4274-401b-9f61-1786182fe7bf&quot;,&quot;55567792-7b1e-4112-bdd3-887d76358f2e&quot;,&quot;c52211f3-95a5-4d0f-acd9-f052052a33e3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d691c517-fea9-4d19-871d-358ad5bf81b6&quot;,&quot;title&quot;:&quot;DecisionTables: Russian Nesting Dolls&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Small Doll (1 level)&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Small Doll (1 level)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { StartWith: 0, Size: \&quot;Small\&quot;, DollsInsideAndIncludingMe: undefined };\nsmallTable = new author_1.MultiAxisTable(undefined, small);\nvar engine = new rulesengine_1.Rulesengine(smallTable.getRules().rules, BOM, smallTable.name, smallTable.version, smallTable.schemaVersion(), smallTable.getInputNames());\nengine.run();\nvar result = BOM.DollsInsideAndIncludingMe;\nchai_1.expect(result).to.equal(1);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;57207cc1-de11-404b-a97d-1e1874e4c953&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add Small Doll inside Medium Doll (2 levels)&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Add Small Doll inside Medium Doll (2 levels)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { StartWith: 0, Size: \&quot;Big\&quot; };\nmiddle.outputs.push({\n    decisionObject: small,\n    inputMappings: [{ To: \&quot;StartWith\&quot;, From: \&quot;StartWith\&quot; }, { From: \&quot;Size\&quot;, To: \&quot;Size\&quot; }],\n    name: \&quot;SmallDoll\&quot;,\n    path: \&quot;SmallDoll\&quot;,\n    conditions: [],\n    ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n    mockValue: undefined,\n    definition: \&quot;\&quot;,\n    rawValue: true,\n    code: \&quot;StartWith + 1\&quot;,\n    dataType: author_1.DataTypeEnum.Object\n});\nmiddle.outputs[0].code = \&quot;SmallDoll.DollsInsideAndIncludingMe + 1\&quot;;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;aed32300-e77a-4c60-9135-a67c6342ed9f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add Medium Doll inside BigDoll (3 levels)&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Add Medium Doll inside BigDoll (3 levels)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;big.outputs.push({\n    decisionObject: middle,\n    inputMappings: [{ To: \&quot;StartWith\&quot;, From: \&quot;StartWith\&quot; }, { From: \&quot;Size\&quot;, To: \&quot;Size\&quot; }],\n    name: \&quot;MediumDoll\&quot;,\n    path: \&quot;MediumDollPath\&quot;,\n    conditions: [],\n    ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n    mockValue: undefined,\n    definition: \&quot;\&quot;,\n    rawValue: true,\n    code: \&quot;StartWith + 1\&quot;,\n    dataType: author_1.DataTypeEnum.Object\n});\nbig.outputs[0].code = \&quot;MediumDoll.DollsInsideAndIncludingMe + 1\&quot;;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;69028e9f-afd4-4452-a0a4-6d64de8d991f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add Big Doll&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Add Big Doll&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;middleTable = new author_1.MultiAxisTable(undefined, middle);\nvar sampleBOM = middleTable.generateSampleBOM(true);\nvar engine = new rulesengine_1.Rulesengine(middleTable.getRules().rules, sampleBOM, middleTable.name, middleTable.version, middleTable.schemaVersion(), middleTable.getInputNames());\nengine.run();\nchai_1.expect(sampleBOM.SmallDoll.DollsInsideAndIncludingMe).to.equal(2);\nbigTable = new author_1.MultiAxisTable(undefined, big);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f840fecc-3eb3-485e-ae72-320e182c1080&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unpack the dolls&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Unpack the dolls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:30,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var engine = new rulesengine_1.Rulesengine(bigTable.getRules().rules, BOM, bigTable.name, bigTable.version, bigTable.schemaVersion(), bigTable.getInputNames());\nengine.run({ withStats: true });\nvar result = BOM.DollsInsideAndIncludingMe;\nchai_1.expect(result).to.equal(3);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2082aaba-46b2-4e6b-916e-a75c7a001d5a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;57207cc1-de11-404b-a97d-1e1874e4c953&quot;,&quot;aed32300-e77a-4c60-9135-a67c6342ed9f&quot;,&quot;69028e9f-afd4-4452-a0a4-6d64de8d991f&quot;,&quot;f840fecc-3eb3-485e-ae72-320e182c1080&quot;,&quot;2082aaba-46b2-4e6b-916e-a75c7a001d5a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:56,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6bd7bcc7-ae16-4e92-9c60-01ad4722c08e&quot;,&quot;title&quot;:&quot;Single-Axis Table&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Vertical Flight&quot;,&quot;fullTitle&quot;:&quot;Single-Axis Table Vertical Flight&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var vTable = new author_1.SingleAxisTable(undefined, {\n    entries: [\n        {\n            name: \&quot;\&quot;,\n            outputs: [{\n                    name: \&quot;SeatUpgrade\&quot;,\n                    code: \&quot;&#x27;Approved&#x27;\&quot;\n                }, {\n                    name: \&quot;Points\&quot;,\n                    code: \&quot;100\&quot;\n                }],\n            conditions: [{\n                    name: \&quot;Level\&quot;,\n                    expression: \&quot;&#x27;Executive&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }, {\n                    name: \&quot;FlightStatus\&quot;,\n                    expression: \&quot;&#x27;International&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }]\n        },\n        {\n            name: \&quot;\&quot;,\n            outputs: [{\n                    name: \&quot;SeatUpgrade\&quot;,\n                    code: \&quot;&#x27;Not Approved&#x27;\&quot;\n                }, {\n                    name: \&quot;Points\&quot;,\n                    code: \&quot;50\&quot;\n                }],\n            conditions: [{\n                    name: \&quot;Level\&quot;,\n                    expression: \&quot;&#x27;Manager&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }, {\n                    name: \&quot;FlightStatus\&quot;,\n                    expression: \&quot;&#x27;International&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }]\n        }\n    ],\n    version: \&quot;1\&quot;,\n    ruleContext: {\n        name: \&quot;Testing\&quot;,\n        enumerations: [{\n                name: \&quot;Level\&quot;,\n                values: [{\n                        value: \&quot;Executive\&quot;\n                    }, {\n                        value: \&quot;Manager\&quot;\n                    }]\n            }, {\n                name: \&quot;FlightStatus\&quot;,\n                values: [{\n                        value: \&quot;International\&quot;\n                    }, {\n                        value: \&quot;Domestic\&quot;\n                    }]\n            }]\n    },\n    name: \&quot;VTable\&quot;,\n    inputs: [{\n            name: \&quot;Level\&quot;,\n            dataType: author_1.DataTypeEnum.Enum,\n            enumerationSet: \&quot;Level\&quot;,\n            mockValue: \&quot;&#x27;Executive&#x27;\&quot;\n        }, {\n            name: \&quot;FlightStatus\&quot;,\n            dataType: author_1.DataTypeEnum.Enum,\n            enumerationSet: \&quot;FlightStatus\&quot;,\n            mockValue: \&quot;&#x27;International&#x27;\&quot;\n        }],\n    outputs: [{\n            name: \&quot;SeatUpgrade\&quot;\n        }, {\n            name: \&quot;Points\&quot;\n        }],\n    parentName: \&quot;\&quot;,\n    decisionObjectType: author_1.DecisionObjectType.SingleAxisTable,\n    purpose: \&quot;\&quot;\n});\nvar sampleBOM = vTable.generateSampleBOM(true);\nvar engine = new rulesengine_1.Rulesengine(vTable.getRules().rules, sampleBOM, vTable.name, vTable.version, vTable.schemaVersion(), vTable.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(sampleBOM.getValue(\&quot;SeatUpgrade\&quot;)).to.equal(\&quot;Approved\&quot;);\nvTable.getInput(\&quot;Level\&quot;).mockValue = \&quot;&#x27;Manager&#x27;\&quot;;\nsampleBOM = vTable.generateSampleBOM(true);\nengine.withBom(sampleBOM).run({ withStats: true });\nchai_1.expect(sampleBOM.getValue(\&quot;SeatUpgrade\&quot;)).to.equal(\&quot;Not Approved\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;15f60e8f-9096-4d4c-8c20-13f734964dbf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;15f60e8f-9096-4d4c-8c20-13f734964dbf&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:7,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dc9593b8-5d6d-444a-a578-d8272dfdc14d&quot;,&quot;title&quot;:&quot;Multi Axis Table Defaults&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;4 Defaults on Table, Row, Column and cell&quot;,&quot;fullTitle&quot;:&quot;Multi Axis Table Defaults 4 Defaults on Table, Row, Column and cell&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var elements = new author_1.MultiAxisTable(undefined, {\n    name: \&quot;Defaults\&quot;,\n    version: \&quot;0.1-in-house\&quot;,\n    purpose: \&quot;All Purpose\&quot;,\n    decisionObjectType: author_1.DecisionObjectType.MultiAxisTable,\n    ruleContext: {\n        name: \&quot;Default\&quot;,\n        enumerations: []\n    },\n    inputs: [],\n    outputs: [\n        {\n            name: \&quot;Earth\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;EARTH&#x27;\&quot;,\n            code: \&quot;&#x27;Earth is read from the Table&#x27;\&quot;\n        },\n        {\n            name: \&quot;Air\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;AIR&#x27;\&quot;,\n            code: \&quot;&#x27;Table has Air&#x27;\&quot;\n        },\n        {\n            name: \&quot;Fire\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;FIRE&#x27;\&quot;,\n            code: \&quot;&#x27;Table has Fire&#x27;\&quot;\n        },\n        {\n            name: \&quot;Water\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;WATER&#x27;\&quot;,\n            code: \&quot;&#x27;Table has Water&#x27;\&quot;\n        }\n    ],\n    columns: [\n        {\n            name: \&quot;AlwaysTrue\&quot;,\n            conditions: [],\n            outputs: [\n                {\n                    name: \&quot;Fire\&quot;,\n                    dataType: author_1.DataTypeEnum.String,\n                    mockValue: \&quot;&#x27;FIRE&#x27;\&quot;,\n                    code: \&quot;&#x27;Fire is read from Column&#x27;\&quot;\n                }\n            ]\n        }\n    ],\n    rows: [\n        {\n            name: \&quot;AlwaysTrue\&quot;,\n            conditions: [],\n            outputs: [{\n                    name: \&quot;Air\&quot;,\n                    dataType: author_1.DataTypeEnum.String,\n                    mockValue: \&quot;&#x27;AIR&#x27;\&quot;,\n                    code: \&quot;&#x27;Air is read from Row&#x27;\&quot;\n                }]\n        }\n    ],\n    cells: [{\n            columnNumber: 1,\n            rowNumber: 1,\n            outputs: [\n                {\n                    name: \&quot;Water\&quot;,\n                    dataType: author_1.DataTypeEnum.String,\n                    mockValue: \&quot;&#x27;WATER&#x27;\&quot;,\n                    code: \&quot;&#x27;Water is read from Cell&#x27;\&quot;\n                }\n            ]\n        }]\n});\nvar BOM = elements.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(elements.getRules().rules, BOM, elements.name, elements.version, elements.schemaVersion(), elements.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(BOM.getValue(\&quot;Earth\&quot;)).to.equal(\&quot;Earth is read from the Table\&quot;);\nchai_1.expect(BOM.getValue(\&quot;Air\&quot;)).to.equal(\&quot;Air is read from Row\&quot;);\nchai_1.expect(BOM.getValue(\&quot;Fire\&quot;)).to.equal(\&quot;Fire is read from Column\&quot;);\nchai_1.expect(BOM.getValue(\&quot;Water\&quot;)).to.equal(\&quot;Water is read from Cell\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e1d2b4f0-2a73-47aa-87e7-c8cde5b6ce74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e1d2b4f0-2a73-47aa-87e7-c8cde5b6ce74&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ddd5e2d9-4bfa-4ff4-a89b-19847d0f061e&quot;,&quot;title&quot;:&quot;Exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_exceptions.ts&quot;,&quot;file&quot;:&quot;/test/test_exceptions.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Check Circular Reference&quot;,&quot;fullTitle&quot;:&quot;Exceptions Check Circular Reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [],\n    outputs: [{ name: \&quot;Calculation1\&quot;, code: \&quot;Calculation2\&quot;, dataType: author_1.DataTypeEnum.String }, { name: \&quot;Calculation2\&quot;, code: \&quot;Calculation1\&quot;, dataType: author_1.DataTypeEnum.String }]\n};\nvar decisionObject = new author_1.DecisionObject(null, decisionObjectStructure);\ntry {\n    decisionObject.getRules();\n}\ncatch (error) {\n    chai_1.expect(error.toString()).contains(\&quot;[RULE01]\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6793bea5-1f11-47e1-92bf-9a421d1638ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6793bea5-1f11-47e1-92bf-9a421d1638ce&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;36d62033-3e20-4590-8a99-8997b274aacf&quot;,&quot;title&quot;:&quot;Map Functions: Map Run&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_mapfunctions.ts&quot;,&quot;file&quot;:&quot;/test/test_mapfunctions.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Map without path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Map without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[0].BrandPriority).to.equal(2, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;72e0ffae-d96a-44e6-bd30-462d20bbe6d8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Map with path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Map with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nconsole.log(JSON.stringify(decisionObject.getRules(), null, 2));\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;2.0.0\&quot;);\nvar newBomArray = engine.mapRun(bomArray, \&quot;bom.BrandPriority\&quot;);\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[0]).to.equal(2, \&quot;Map Run didn&#x27;t detect value 0 in \&quot; + JSON.stringify(newBomArray));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;45af696e-68bb-46f1-aa13-bca0afb99452&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Filter without path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Filter without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }, { name: \&quot;Odd\&quot;, code: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;2.0.0\&quot;);\nvar newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;);\nchai_1.expect(newBomArray.length).to.equal(2, \&quot;Filter Run didn&#x27;t product the correct length of 2 but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[1].BrandPriority).to.equal(4, \&quot;Filter Run didn&#x27;t detect value 1.BrandPriority in \&quot; + JSON.stringify(newBomArray));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b04fe9dd-596d-4e29-bc9d-26ed135f617a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Filter with path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Filter with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }, { name: \&quot;Odd\&quot;, code: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;2.0.0\&quot;);\nvar newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;, \&quot;bom.BrandPriority\&quot;);\nchai_1.expect(newBomArray.length).to.equal(2, \&quot;Filter Run didn&#x27;t product the correct length of 2 but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[1]).to.equal(4, \&quot;Filter Run didn&#x27;t detect value 1 in \&quot; + JSON.stringify(newBomArray));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;019268c9-fba9-4a51-8f34-f8e6ee7543e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;72e0ffae-d96a-44e6-bd30-462d20bbe6d8&quot;,&quot;45af696e-68bb-46f1-aa13-bca0afb99452&quot;,&quot;b04fe9dd-596d-4e29-bc9d-26ed135f617a&quot;,&quot;019268c9-fba9-4a51-8f34-f8e6ee7543e1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;afee8626-5244-4d74-9258-ed97a349f95d&quot;,&quot;title&quot;:&quot;Performance&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_performance.ts&quot;,&quot;file&quot;:&quot;/test/test_performance.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;1000 records getRules&quot;,&quot;fullTitle&quot;:&quot;Performance 1000 records getRules&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: [],\n    name: \&quot;Peekaboo\&quot;\n});\nruleSet.builder\n    .withInput(\&quot;Name\&quot;).asString(\&quot;Herman\&quot;).thenNext()\n    .withInput(\&quot;LastName\&quot;).asString(\&quot;Geldenhuys\&quot;).thenNext()\n    .withInput(\&quot;Age\&quot;).asInteger(33).thenNext()\n    .withOutput(\&quot;FullName\&quot;).asString().withCode(\&quot;Name + &#x27; &#x27; + LastName\&quot;).thenNext()\n    .withOutput(\&quot;Summary\&quot;).withCode(\&quot;FullName + &#x27; is &#x27; + Age + &#x27; years old.&#x27;\&quot;);\nvar BOM = { Name: \&quot;Herman\&quot;, LastName: \&quot;Geldenhuys\&quot;, Age: 33, Summary: undefined };\nvar engine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, BOM, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nvar start = new Date();\nfor (var iterator = 0; iterator &lt; 1000; iterator++) {\n    BOM = { Name: \&quot;Herman\&quot;, LastName: \&quot;Geldenhuys\&quot;, Age: iterator, Summary: undefined };\n    engine.withBom(BOM).run();\n}\nvar took = (new Date()).getTime() - start.getTime();\nconsole.log(\&quot;took: \&quot; + took);\nchai_1.expect(BOM.Summary).to.equal(\&quot;Herman Geldenhuys is 999 years old.\&quot;);\nchai_1.expect(took).to.lessThan(40);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8f5e1d58-b9e6-48fb-85b6-1ce5cdaa99a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Map without path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Map without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:275,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000].BrandPriority).to.equal(10001, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8d135c09-9173-4b78-aa6a-9fe0845b6431&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Map without path Using complex model&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Map without path Using complex model&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:586,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }, { name: \&quot;Odd\&quot;, code: \&quot;BrandIndex % 2 === 1\&quot; }, { name: \&quot;Even\&quot;, code: \&quot;!Odd\&quot; }, { name: \&quot;Complex\&quot;, code: \&quot;Odd + &#x27;:&#x27; + Even + &#x27;:&#x27; + BrandPriority\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000].BrandPriority).to.equal(10001, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ce8bc590-0a40-4154-bd0d-fe36f0c6c81a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Map with path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Map with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:245,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, \&quot;bom.BrandPriority\&quot;, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000]).to.equal(10001, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f2ca78c0-2e38-4130-b2ed-86e50cb049e0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Filter without path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Filter without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:272,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }, { name: \&quot;Odd\&quot;, code: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(50000, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000].BrandPriority).to.equal(20002, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f88ebbf6-2a2a-46c2-a1ef-efec1e6b46b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Filter with path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Filter with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:324,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ name: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ name: \&quot;BrandPriority\&quot;, code: \&quot;BrandIndex + 1\&quot; }, { name: \&quot;Odd\&quot;, code: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;2.0.0\&quot;), newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;, \&quot;bom.BrandPriority\&quot;, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(50000, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000]).to.equal(20002, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a3f41d95-fbdd-4ddc-aefb-dd882dc496b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8f5e1d58-b9e6-48fb-85b6-1ce5cdaa99a0&quot;,&quot;8d135c09-9173-4b78-aa6a-9fe0845b6431&quot;,&quot;ce8bc590-0a40-4154-bd0d-fe36f0c6c81a&quot;,&quot;f2ca78c0-2e38-4130-b2ed-86e50cb049e0&quot;,&quot;f88ebbf6-2a2a-46c2-a1ef-efec1e6b46b8&quot;,&quot;a3f41d95-fbdd-4ddc-aefb-dd882dc496b6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1717,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;25e06289-9093-4aca-8664-5fa2b8a25aa6&quot;,&quot;title&quot;:&quot;Schema: Input Paths&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_schema.ts&quot;,&quot;file&quot;:&quot;/test/test_schema.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Level 0 Input: Name=Ransom&quot;,&quot;fullTitle&quot;:&quot;Schema: Input Paths Level 0 Input: Name=Ransom&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            path: \&quot;Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Name\&quot;,\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            path: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            code: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: []\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision), BOM = decisionObject.generateSampleBOM(), engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run();\nvar result = rulesengine_1.getBOMValue(BOM, \&quot;bom.Name\&quot;);\nchai_1.expect(result).to.equal(\&quot;Ransom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2d3d3aee-540b-4bc4-89a4-6fe4cbe1f2bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Level 1 Input: Client.Name=Ransom&quot;,&quot;fullTitle&quot;:&quot;Schema: Input Paths Level 1 Input: Client.Name=Ransom&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            path: \&quot;Client.Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Name\&quot;,\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            path: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            code: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: [{\n                    to: undefined,\n                    includeTo: false,\n                    includeFrom: false,\n                    from: undefined,\n                    expression: \&quot;Name === &#x27;Ransom&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean,\n                    number: undefined,\n                    name: \&quot;Name is Ransom\&quot;\n                }]\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision);\nvar BOM = decisionObject.generateSampleBOM();\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equal(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equal(\&quot;RansomRansom\&quot;);\ndecision.outputs[0].conditions[0].expression = \&quot;Name !== &#x27;Ransom&#x27;\&quot;;\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nBOM = decisionObject.generateSampleBOM();\nengine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equals(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6dcf2097-4861-43b7-af80-1882293870e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2d3d3aee-540b-4bc4-89a4-6fe4cbe1f2bc&quot;,&quot;6dcf2097-4861-43b7-af80-1882293870e9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;066039fc-7c44-484b-800d-ebd8a26a82ff&quot;,&quot;title&quot;:&quot;Conditions: Simple&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_schema.ts&quot;,&quot;file&quot;:&quot;/test/test_schema.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Boolean = true&quot;,&quot;fullTitle&quot;:&quot;Conditions: Simple Boolean = true&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            path: \&quot;Client.Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Name\&quot;,\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            path: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            code: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: [{\n                    to: undefined,\n                    includeTo: false,\n                    includeFrom: false,\n                    from: undefined,\n                    expression: \&quot;Name === &#x27;Ransom&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean,\n                    number: undefined,\n                    name: \&quot;Name is Ransom\&quot;\n                }]\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision);\nvar BOM = decisionObject.generateSampleBOM();\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equal(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.engine.Schema.conditions.Echo.Echo_1_Name_is_Ransom\&quot;)).to.equal(true);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equal(\&quot;RansomRansom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b0e13469-1499-4753-9013-7324798a1d28&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Boolean = false&quot;,&quot;fullTitle&quot;:&quot;Conditions: Simple Boolean = false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            path: \&quot;Client.Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Name\&quot;,\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            path: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            code: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: [{\n                    to: undefined,\n                    includeTo: false,\n                    includeFrom: false,\n                    from: undefined,\n                    expression: \&quot;Name !== &#x27;Ransom&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean,\n                    number: undefined,\n                    name: \&quot;Name is Ransom\&quot;\n                }]\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision);\nvar BOM = decisionObject.generateSampleBOM();\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equal(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.engine.Schema.conditions.Echo.Echo_1_Name_is_Ransom\&quot;)).to.equal(false);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1b755f8b-ebd5-4842-9972-ce8e182272bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b0e13469-1499-4753-9013-7324798a1d28&quot;,&quot;1b755f8b-ebd5-4842-9972-ce8e182272bb&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b950b9c0-dada-4422-8a07-f3beabaf867d&quot;,&quot;title&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_schema.ts&quot;,&quot;file&quot;:&quot;/test/test_schema.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GreaterThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside GreaterThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.GreaterThan).to.equal(\&quot;6 is greater than Bottom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b5474802-256a-40e9-84d2-27e274c54b70&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;LessThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside LessThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.LessThan).to.equal(\&quot;6 is less than Top\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1c356d38-8b20-4cc9-8df0-4921ccb89d1f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GreaterThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside GreaterThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.GreaterThanOrEqualTo).to.equal(\&quot;6 is greater than or equal to Bottom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d6b4bd50-195d-4b27-9f80-168100f142a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;LessThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside LessThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.LessThanOrEqualTo).to.equal(\&quot;6 is less than or equal to Top\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;efc4d987-842f-4c2c-883e-8e79c8967eae&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Between&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside Between&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.Between).to.equal(\&quot;6 is between bom.Number.Bottom and Top\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e23c5247-9297-4739-8c84-c4c30054ed3b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b5474802-256a-40e9-84d2-27e274c54b70&quot;,&quot;1c356d38-8b20-4cc9-8df0-4921ccb89d1f&quot;,&quot;d6b4bd50-195d-4b27-9f80-168100f142a0&quot;,&quot;efc4d987-842f-4c2c-883e-8e79c8967eae&quot;,&quot;e23c5247-9297-4739-8c84-c4c30054ed3b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},&quot;copyrightYear&quot;:2019}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;public/test-results&quot;,&quot;reportTitle&quot;:&quot;omnirules&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;public/test-results/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/public/test-results/index.json&quot;,&quot;htmlFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/public/test-results/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>