<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:12,&quot;tests&quot;:44,&quot;passes&quot;:44,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2019-04-07T18:17:05.844Z&quot;,&quot;end&quot;:&quot;2019-04-07T18:17:07.789Z&quot;,&quot;duration&quot;:1945,&quot;testsRegistered&quot;:44,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;3b0d154f-b6b8-46ed-b14b-5767928df723&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c87928b7-e116-412d-b09f-770f7dc1dd94&quot;,&quot;title&quot;:&quot;Basics: Inputs&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_basics.ts&quot;,&quot;file&quot;:&quot;/test/test_basics.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Deserialize input&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Deserialize input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String }],\n    outputs: [{ token: \&quot;FullName\&quot;, calculation: \&quot;Name + &#x27; &#x27; + LastName\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar BOM = decisionObject.generateSampleBOM();\nchai_1.expect(BOM.getValue(\&quot;Name\&quot;)).to.equal(\&quot;A string\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c5e2cdbb-f298-49ab-8e4b-43c1ae1bfd03&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Procedurally add input&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Procedurally add input&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String }],\n    outputs: [{ token: \&quot;FullName\&quot;, calculation: \&quot;Name + &#x27; &#x27; + LastName\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\ndecisionObject.builder.withInput(\&quot;LastName\&quot;).asString(\&quot;Geldenhuys\&quot;);\nvar BOM = decisionObject.generateSampleBOM();\nchai_1.expect(BOM.getValue(\&quot;LastName\&quot;)).to.equal(\&quot;Geldenhuys\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8cec1454-62d9-49b2-801c-53766aea2333&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Deserialize output&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Deserialize output&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Herman&#x27;\&quot; }, { token: \&quot;LastName\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Geldenhuys&#x27;\&quot; }],\n    outputs: [{ token: \&quot;FullName\&quot;, calculation: \&quot;Name + &#x27; &#x27; + LastName\&quot;, dataType: author_1.DataTypeEnum.String }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar BOM = decisionObject.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run();\nchai_1.expect(BOM.getValue(\&quot;FullName\&quot;)).to.equal(\&quot;Herman Geldenhuys\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;0bbddd67-ec90-4033-9c98-308950d89f0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Procedurally add output&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Procedurally add output&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;Name\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Hendrik&#x27;\&quot; }, { token: \&quot;LastName\&quot;, dataType: author_1.DataTypeEnum.String, mockValue: \&quot;&#x27;Geldenhuys&#x27;\&quot; }],\n    outputs: []\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\ndecisionObject.builder.withOutput(\&quot;FullName\&quot;).asString().usingCalculation(\&quot;Name + &#x27; &#x27; + LastName\&quot;);\nvar BOM = decisionObject.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: false });\nchai_1.expect(BOM.getValue(\&quot;FullName\&quot;)).to.equal(\&quot;Hendrik Geldenhuys\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bb225028-539c-4102-bdfe-a2374d54f261&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Schema Version Hash&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Schema Version Hash&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: []\n});\nchai_1.expect(ruleSet.generateSampleBOM().SchemaVersion).to.equals(\&quot;d41d8cd98f00b204e9800998ecf8427e\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;976af126-3d1f-4241-9dd8-f080ad6db07f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;DataTypes&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs DataTypes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: [],\n    ruleContext: {\n        name: \&quot;Testing\&quot;,\n        enumerations: [{\n                name: \&quot;Colour\&quot;,\n                values: [{\n                        value: \&quot;Green\&quot;\n                    }]\n            }]\n    }\n});\nruleSet.builder\n    .withInput(\&quot;AString\&quot;).asString(\&quot;ABC\&quot;).comma()\n    .withInput(\&quot;ADecimal\&quot;).asDecimal(12.3).comma()\n    .withInput(\&quot;AnInteger\&quot;).asInteger(123).comma()\n    .withInput(\&quot;ABoolean\&quot;).asBoolean(true).comma()\n    .withInput(\&quot;ADate\&quot;).asDate().comma()\n    .withInput(\&quot;AnEnum\&quot;).asEnum(\&quot;Colour\&quot;, \&quot;Green\&quot;).comma()\n    .withInput(\&quot;AList\&quot;).asList([123, 456]).comma()\n    .withInput(\&quot;AnObject\&quot;).asObject({ abc: 123 });\nchai_1.expect(ruleSet.getInput(\&quot;AString\&quot;).dataType).to.equals(author_1.DataTypeEnum.String);\nchai_1.expect(ruleSet.getInput(\&quot;ADecimal\&quot;).dataType).to.equals(author_1.DataTypeEnum.Decimal);\nchai_1.expect(ruleSet.getInput(\&quot;AnInteger\&quot;).dataType).to.equals(author_1.DataTypeEnum.Integer);\nchai_1.expect(ruleSet.getInput(\&quot;ABoolean\&quot;).dataType).to.equals(author_1.DataTypeEnum.Boolean);\nchai_1.expect(ruleSet.getInput(\&quot;ADate\&quot;).dataType).to.equals(author_1.DataTypeEnum.Date);\nchai_1.expect(ruleSet.getInput(\&quot;AnEnum\&quot;).dataType).to.equals(author_1.DataTypeEnum.Enum);\nchai_1.expect(ruleSet.getInput(\&quot;AList\&quot;).dataType).to.equals(author_1.DataTypeEnum.List);\nchai_1.expect(ruleSet.getInput(\&quot;AnObject\&quot;).dataType).to.equals(author_1.DataTypeEnum.Object);\nruleSet.builder\n    .withInput(\&quot;AnObject\&quot;).remove().withInput(\&quot;AString\&quot;).remove();\nchai_1.expect(ruleSet.getInput(\&quot;AString\&quot;)).to.equals(undefined);\nchai_1.expect(ruleSet.getInput(\&quot;AnObject\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a2098f80-5184-450f-96c1-a308174fe5bb&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Calculating Peekaboo&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Calculating Peekaboo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: []\n});\nruleSet.builder\n    .withInput(\&quot;PeekA\&quot;).asString(\&quot;BOO\&quot;).comma()\n    .withInput(\&quot;options.ABoolean\&quot;).asBoolean(true).comma()\n    .withOutput(\&quot;I\&quot;).usingCalculation(\&quot;&#x27;See You!&#x27;\&quot;);\nvar decisionObject = new author_1.DecisionObject(undefined, ruleSet);\nvar bom = ruleSet.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, bom, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e22b261e-55ae-49a9-a132-0c6a6f3c3212&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Calculating Peekaboo with 1 conditional true then false&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Calculating Peekaboo with 1 conditional true then false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: []\n});\nruleSet.builder\n    .withInput(\&quot;PeekA\&quot;).asString(\&quot;BOO\&quot;).comma()\n    .withInput(\&quot;options.ABoolean\&quot;).asBoolean(true).comma()\n    .withOutput(\&quot;I\&quot;).usingCalculation(\&quot;&#x27;See You!&#x27;\&quot;);\nvar bom = ruleSet.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nruleSet.builder\n    .withOutput(\&quot;I\&quot;).ifTrueThat(\&quot;ABoolean\&quot;);\nbom = ruleSet.generateSampleBOM();\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nbom = ruleSet.generateSampleBOM();\nbom.setValue(\&quot;options.ABoolean\&quot;, false);\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a3789901-7d66-4798-8b83-94d8912fa0a2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Calculating Peekaboo with multiple conditional&quot;,&quot;fullTitle&quot;:&quot;Basics: Inputs Calculating Peekaboo with multiple conditional&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: [],\n    name: \&quot;Peekaboo\&quot;\n});\nruleSet.builder\n    .withInput(\&quot;PeekA\&quot;).asString(\&quot;BOO\&quot;).comma()\n    .withInput(\&quot;options.ABoolean\&quot;).asBoolean(true).comma()\n    .withOutput(\&quot;I\&quot;).usingCalculation(\&quot;&#x27;See You!&#x27;\&quot;)\n    .ifTrueThat(\&quot;ABoolean\&quot;).and()\n    .ifTrueThat(\&quot;PeekA===&#x27;BOO&#x27;\&quot;);\nvar bom = ruleSet.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nruleSet.builder\n    .withOutput(\&quot;I\&quot;);\nbom = ruleSet.generateSampleBOM();\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run();\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(\&quot;See You!\&quot;);\nbom = ruleSet.generateSampleBOM();\nbom.setValue(\&quot;options.ABoolean\&quot;, false);\nengine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, bom, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(bom.getValue(\&quot;I\&quot;)).to.equals(undefined);\nchai_1.expect(bom.getValue(\&quot;engine.Peekaboo.conditions.I_1_ABooleanIsTrue\&quot;)).to.equals(false);\nchai_1.expect(bom.getValue(\&quot;engine.Peekaboo.conditions.I_2_PeekAIsEqualTo_BOO_IsTrue\&quot;)).to.equals(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea87a855-205a-4dfe-b325-78ecb4318b22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c5e2cdbb-f298-49ab-8e4b-43c1ae1bfd03&quot;,&quot;8cec1454-62d9-49b2-801c-53766aea2333&quot;,&quot;0bbddd67-ec90-4033-9c98-308950d89f0a&quot;,&quot;bb225028-539c-4102-bdfe-a2374d54f261&quot;,&quot;976af126-3d1f-4241-9dd8-f080ad6db07f&quot;,&quot;a2098f80-5184-450f-96c1-a308174fe5bb&quot;,&quot;e22b261e-55ae-49a9-a132-0c6a6f3c3212&quot;,&quot;a3789901-7d66-4798-8b83-94d8912fa0a2&quot;,&quot;ea87a855-205a-4dfe-b325-78ecb4318b22&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:22,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c7d306e0-c977-4627-a23d-7012ed8f5636&quot;,&quot;title&quot;:&quot;Retirement: DecisionObject&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisionobject.ts&quot;,&quot;file&quot;:&quot;/test/test_decisionobject.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;10 years to go if retirement age is 60&quot;,&quot;fullTitle&quot;:&quot;Retirement: DecisionObject 10 years to go if retirement age is 60&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 50, AgeToRetirement: RETIREMENT_AGE };\nengine.reset(BOM).run();\nvar result = BOM[setup_decisionobject_1.yearsToGo.relativePath];\nchai_1.expect(result).to.equal(10);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5440355b-5ed7-4fa1-a026-67366c7a508f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Can retire, at last at 61&quot;,&quot;fullTitle&quot;:&quot;Retirement: DecisionObject Can retire, at last at 61&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 61, AgeToRetirement: RETIREMENT_AGE };\nengine.reset(BOM).run({ withStats: true });\nvar result = BOM[setup_decisionobject_1.canRetire.relativePath];\nchai_1.expect(result).to.equal(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;00ec002e-8cf2-46cf-8c57-43aab033f28d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5440355b-5ed7-4fa1-a026-67366c7a508f&quot;,&quot;00ec002e-8cf2-46cf-8c57-43aab033f28d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1adb48f6-682d-4999-95b9-f06955b2565d&quot;,&quot;title&quot;:&quot;Eligibility: DecisionTable&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;11 year old female  = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 11 year old female  = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 11, Gender: \&quot;Female\&quot; };\nengine.reset(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.relativePath];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1908665b-8907-4355-9cf6-20f39853a11f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;13 year old male    = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 13 year old male    = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 13, Gender: \&quot;Male\&quot; };\nengine.reset(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.relativePath];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7ef0fe4a-010a-4e7c-85de-8846122ca471&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;18 year old female  = ✓&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 18 year old female  = ✓&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 18, Gender: \&quot;Female\&quot; };\nengine.reset(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.token];\nchai_1.expect(result).to.equal(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;11b60855-d4ce-43c9-b2c1-43f30580bba1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;18 year old male    = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 18 year old male    = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 18, Gender: \&quot;Male\&quot; };\nengine.reset(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.relativePath];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;37469555-a807-421c-9a56-318daef88b49&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;21 year old male    = ✓&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 21 year old male    = ✓&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { Age: 21, Gender: \&quot;Male\&quot; };\nengine.reset(BOM).run();\nvar result = BOM[setup_decisiontable_1.eligibleOutput.relativePath];\nchai_1.expect(result).to.equal(true);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b2a80a4b-bea6-4ebd-981e-e5d7e6855c7f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;18 year old them    = x&quot;,&quot;fullTitle&quot;:&quot;Eligibility: DecisionTable 18 year old them    = x&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var bom = { Age: 18, Gender: \&quot;Unknown\&quot; };\nengine.reset(bom).run();\nvar result = bom[setup_decisiontable_1.eligibleOutput.relativePath];\nchai_1.expect(result).to.equal(false);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a3dce365-c747-43af-b160-202b17e707f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1908665b-8907-4355-9cf6-20f39853a11f&quot;,&quot;7ef0fe4a-010a-4e7c-85de-8846122ca471&quot;,&quot;11b60855-d4ce-43c9-b2c1-43f30580bba1&quot;,&quot;37469555-a807-421c-9a56-318daef88b49&quot;,&quot;b2a80a4b-bea6-4ebd-981e-e5d7e6855c7f&quot;,&quot;a3dce365-c747-43af-b160-202b17e707f2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4727783d-ead2-4375-9aad-488ca1a498f1&quot;,&quot;title&quot;:&quot;DecisionTables: Russian Nesting Dolls&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Small Doll (1 level)&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Small Doll (1 level)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { StartWith: 0, Size: \&quot;Small\&quot;, DollsInsideAndIncludingMe: undefined };\nsmallTable = new author_1.MultiAxisTable(undefined, small);\nvar engine = new rulesengine_1.Rulesengine(smallTable.getRules().rules, BOM, smallTable.name, smallTable.version, smallTable.schemaVersion(), smallTable.getInputNames());\nengine.run();\nvar result = BOM.DollsInsideAndIncludingMe;\nchai_1.expect(result).to.equal(1);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fefc3d2f-38d5-4360-b5b3-d0f0afbbaebd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add Small Doll inside Medium Doll (2 levels)&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Add Small Doll inside Medium Doll (2 levels)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;BOM = { StartWith: 0, Size: \&quot;Big\&quot; };\nmiddle.outputs.push({\n    decisionObject: small,\n    inputMappings: [{ To: \&quot;StartWith\&quot;, From: \&quot;StartWith\&quot; }, { From: \&quot;Size\&quot;, To: \&quot;Size\&quot; }],\n    token: \&quot;SmallDoll\&quot;,\n    name: \&quot;SmallDoll\&quot;,\n    relativePath: \&quot;SmallDoll\&quot;,\n    conditions: [],\n    ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n    mockValue: undefined,\n    definition: \&quot;\&quot;,\n    rawValue: true,\n    calculation: \&quot;StartWith + 1\&quot;,\n    dataType: author_1.DataTypeEnum.Object\n});\nmiddle.outputs[0].calculation = \&quot;SmallDoll.DollsInsideAndIncludingMe + 1\&quot;;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ea7398e6-6169-4f86-a160-2fef5799b698&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add Medium Doll inside BigDoll (3 levels)&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Add Medium Doll inside BigDoll (3 levels)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;big.outputs.push({\n    decisionObject: middle,\n    inputMappings: [{ To: \&quot;StartWith\&quot;, From: \&quot;StartWith\&quot; }, { From: \&quot;Size\&quot;, To: \&quot;Size\&quot; }],\n    token: \&quot;MediumDoll\&quot;,\n    name: \&quot;MediumDollName\&quot;,\n    relativePath: \&quot;MediumDollPath\&quot;,\n    conditions: [],\n    ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n    mockValue: undefined,\n    definition: \&quot;\&quot;,\n    rawValue: true,\n    calculation: \&quot;StartWith + 1\&quot;,\n    dataType: author_1.DataTypeEnum.Object\n});\nbig.outputs[0].calculation = \&quot;MediumDoll.DollsInsideAndIncludingMe + 1\&quot;;&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d0820c3b-3b44-46f2-a183-b6db5515b496&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Add Big Doll&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Add Big Doll&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:20,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;middleTable = new author_1.MultiAxisTable(undefined, middle);\nvar sampleBOM = middleTable.generateSampleBOM(true);\nvar engine = new rulesengine_1.Rulesengine(middleTable.getRules().rules, sampleBOM, middleTable.name, middleTable.version, middleTable.schemaVersion(), middleTable.getInputNames());\nengine.run();\nchai_1.expect(sampleBOM.SmallDoll.DollsInsideAndIncludingMe).to.equal(2);\nbigTable = new author_1.MultiAxisTable(undefined, big);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;33c9e5c6-8758-4059-bfb1-dce6ab98b246&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Unpack the dolls&quot;,&quot;fullTitle&quot;:&quot;DecisionTables: Russian Nesting Dolls Unpack the dolls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var engine = new rulesengine_1.Rulesengine(bigTable.getRules().rules, BOM, bigTable.name, bigTable.version, bigTable.schemaVersion(), bigTable.getInputNames());\nengine.run({ withStats: true });\nvar result = BOM.DollsInsideAndIncludingMe;\nchai_1.expect(result).to.equal(3);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;55f2902a-e17e-4138-b14f-612c23cbeb2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fefc3d2f-38d5-4360-b5b3-d0f0afbbaebd&quot;,&quot;ea7398e6-6169-4f86-a160-2fef5799b698&quot;,&quot;d0820c3b-3b44-46f2-a183-b6db5515b496&quot;,&quot;33c9e5c6-8758-4059-bfb1-dce6ab98b246&quot;,&quot;55f2902a-e17e-4138-b14f-612c23cbeb2a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:57,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9d29fee9-8bea-4147-8853-11ea5d4c54c0&quot;,&quot;title&quot;:&quot;Single-Axis Table&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Vertical Flight&quot;,&quot;fullTitle&quot;:&quot;Single-Axis Table Vertical Flight&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var vTable = new author_1.SingleAxisTable(undefined, {\n    entries: [\n        {\n            name: \&quot;\&quot;,\n            outputs: [{\n                    token: \&quot;SeatUpgrade\&quot;,\n                    calculation: \&quot;&#x27;Approved&#x27;\&quot;\n                }, {\n                    token: \&quot;Points\&quot;,\n                    calculation: \&quot;100\&quot;\n                }],\n            conditions: [{\n                    token: \&quot;Level\&quot;,\n                    expression: \&quot;&#x27;Executive&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }, {\n                    token: \&quot;FlightStatus\&quot;,\n                    expression: \&quot;&#x27;International&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }]\n        },\n        {\n            name: \&quot;\&quot;,\n            outputs: [{\n                    token: \&quot;SeatUpgrade\&quot;,\n                    calculation: \&quot;&#x27;Not Approved&#x27;\&quot;\n                }, {\n                    token: \&quot;Points\&quot;,\n                    calculation: \&quot;50\&quot;\n                }],\n            conditions: [{\n                    token: \&quot;Level\&quot;,\n                    expression: \&quot;&#x27;Manager&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }, {\n                    token: \&quot;FlightStatus\&quot;,\n                    expression: \&quot;&#x27;International&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean\n                }]\n        }\n    ],\n    version: \&quot;1\&quot;,\n    ruleContext: {\n        name: \&quot;Testing\&quot;,\n        enumerations: [{\n                name: \&quot;Level\&quot;,\n                values: [{\n                        value: \&quot;Executive\&quot;\n                    }, {\n                        value: \&quot;Manager\&quot;\n                    }]\n            }, {\n                name: \&quot;FlightStatus\&quot;,\n                values: [{\n                        value: \&quot;International\&quot;\n                    }, {\n                        value: \&quot;Domestic\&quot;\n                    }]\n            }]\n    },\n    name: \&quot;VTable\&quot;,\n    inputs: [{\n            token: \&quot;Level\&quot;,\n            dataType: author_1.DataTypeEnum.Enum,\n            enumerationSet: \&quot;Level\&quot;,\n            mockValue: \&quot;&#x27;Executive&#x27;\&quot;\n        }, {\n            token: \&quot;FlightStatus\&quot;,\n            dataType: author_1.DataTypeEnum.Enum,\n            enumerationSet: \&quot;FlightStatus\&quot;,\n            mockValue: \&quot;&#x27;International&#x27;\&quot;\n        }],\n    outputs: [{\n            token: \&quot;SeatUpgrade\&quot;\n        }, {\n            token: \&quot;Points\&quot;\n        }],\n    parentName: \&quot;\&quot;,\n    decisionObjectType: author_1.DecisionObjectType.SingleAxisTable,\n    purpose: \&quot;\&quot;\n});\nvar sampleBOM = vTable.generateSampleBOM(true);\nvar engine = new rulesengine_1.Rulesengine(vTable.getRules().rules, sampleBOM, vTable.name, vTable.version, vTable.schemaVersion(), vTable.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(sampleBOM.getValue(\&quot;SeatUpgrade\&quot;)).to.equal(\&quot;Approved\&quot;);\nvTable.getInput(\&quot;Level\&quot;).mockValue = \&quot;&#x27;Manager&#x27;\&quot;;\nsampleBOM = vTable.generateSampleBOM(true);\nengine.reset(sampleBOM).run({ withStats: true });\nchai_1.expect(sampleBOM.getValue(\&quot;SeatUpgrade\&quot;)).to.equal(\&quot;Not Approved\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8acfb03a-c9ac-48f1-9479-78e4ef6971bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8acfb03a-c9ac-48f1-9479-78e4ef6971bd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3a6a5a88-1288-4005-8c91-66fd343904bf&quot;,&quot;title&quot;:&quot;Multi Axis Table Defaults&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_decisiontables.ts&quot;,&quot;file&quot;:&quot;/test/test_decisiontables.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;4 Defaults on Table, Row, Column and cell&quot;,&quot;fullTitle&quot;:&quot;Multi Axis Table Defaults 4 Defaults on Table, Row, Column and cell&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:23,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var elements = new author_1.MultiAxisTable(undefined, {\n    name: \&quot;Defaults\&quot;,\n    version: \&quot;0.1-in-house\&quot;,\n    purpose: \&quot;All Purpose\&quot;,\n    decisionObjectType: author_1.DecisionObjectType.MultiAxisTable,\n    ruleContext: {\n        name: \&quot;Default\&quot;,\n        enumerations: []\n    },\n    inputs: [],\n    outputs: [\n        {\n            token: \&quot;Earth\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;EARTH&#x27;\&quot;,\n            calculation: \&quot;&#x27;Earth is read from the Table&#x27;\&quot;\n        },\n        {\n            token: \&quot;Air\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;AIR&#x27;\&quot;,\n            calculation: \&quot;&#x27;Table has Air&#x27;\&quot;\n        },\n        {\n            token: \&quot;Fire\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;FIRE&#x27;\&quot;,\n            calculation: \&quot;&#x27;Table has Fire&#x27;\&quot;\n        },\n        {\n            token: \&quot;Water\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            mockValue: \&quot;&#x27;WATER&#x27;\&quot;,\n            calculation: \&quot;&#x27;Table has Water&#x27;\&quot;\n        }\n    ],\n    columns: [\n        {\n            name: \&quot;AlwaysTrue\&quot;,\n            conditions: [],\n            outputs: [\n                {\n                    token: \&quot;Fire\&quot;,\n                    dataType: author_1.DataTypeEnum.String,\n                    mockValue: \&quot;&#x27;FIRE&#x27;\&quot;,\n                    calculation: \&quot;&#x27;Fire is read from Column&#x27;\&quot;\n                }\n            ]\n        }\n    ],\n    rows: [\n        {\n            name: \&quot;AlwaysTrue\&quot;,\n            conditions: [],\n            outputs: [{\n                    token: \&quot;Air\&quot;,\n                    dataType: author_1.DataTypeEnum.String,\n                    mockValue: \&quot;&#x27;AIR&#x27;\&quot;,\n                    calculation: \&quot;&#x27;Air is read from Row&#x27;\&quot;\n                }]\n        }\n    ],\n    cells: [{\n            columnNumber: 1,\n            rowNumber: 1,\n            outputs: [\n                {\n                    token: \&quot;Water\&quot;,\n                    dataType: author_1.DataTypeEnum.String,\n                    mockValue: \&quot;&#x27;WATER&#x27;\&quot;,\n                    calculation: \&quot;&#x27;Water is read from Cell&#x27;\&quot;\n                }\n            ]\n        }]\n});\nvar BOM = elements.generateSampleBOM();\nvar engine = new rulesengine_1.Rulesengine(elements.getRules().rules, BOM, elements.name, elements.version, elements.schemaVersion(), elements.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(BOM.getValue(\&quot;Earth\&quot;)).to.equal(\&quot;Earth is read from the Table\&quot;);\nchai_1.expect(BOM.getValue(\&quot;Air\&quot;)).to.equal(\&quot;Air is read from Row\&quot;);\nchai_1.expect(BOM.getValue(\&quot;Fire\&quot;)).to.equal(\&quot;Fire is read from Column\&quot;);\nchai_1.expect(BOM.getValue(\&quot;Water\&quot;)).to.equal(\&quot;Water is read from Cell\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e0af97f1-bab5-4d44-8d59-acd9d812042d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e0af97f1-bab5-4d44-8d59-acd9d812042d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e7b499db-7f61-4766-9b2b-14d8ea5f72b9&quot;,&quot;title&quot;:&quot;Exceptions&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_exceptions.ts&quot;,&quot;file&quot;:&quot;/test/test_exceptions.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Check Circular Reference&quot;,&quot;fullTitle&quot;:&quot;Exceptions Check Circular Reference&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;Basic\&quot;,\n    version: &#x27;1&#x27;,\n    inputs: [],\n    outputs: [{ token: \&quot;Calculation1\&quot;, calculation: \&quot;Calculation2\&quot;, dataType: author_1.DataTypeEnum.String }, { token: \&quot;Calculation2\&quot;, calculation: \&quot;Calculation1\&quot;, dataType: author_1.DataTypeEnum.String }]\n};\nvar decisionObject = new author_1.DecisionObject(null, decisionObjectStructure);\ntry {\n    decisionObject.getRules();\n}\ncatch (error) {\n    chai_1.expect(error.toString()).contains(\&quot;[RULE01]\&quot;);\n}&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d54c094b-51b1-4f3b-b970-0e785bb50215&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d54c094b-51b1-4f3b-b970-0e785bb50215&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b96d854b-6537-40b2-8ece-5ddbc6aa00de&quot;,&quot;title&quot;:&quot;Map Functions: Map Run&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_mapfunctions.ts&quot;,&quot;file&quot;:&quot;/test/test_mapfunctions.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Map without path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Map without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[0].BrandPriority).to.equal(2, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4a0d05a7-c8d8-4333-8997-a59adde1356e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Map with path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Map with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nconsole.log(JSON.stringify(decisionObject.getRules(), null, 2));\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;2.0.0\&quot;);\nvar newBomArray = engine.mapRun(bomArray, \&quot;bom.BrandPriority\&quot;);\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[0]).to.equal(2, \&quot;Map Run didn&#x27;t detect value 0 in \&quot; + JSON.stringify(newBomArray));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;732dac08-4969-4ea0-959c-edaf56a872db&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Filter without path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Filter without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }, { token: \&quot;Odd\&quot;, calculation: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;2.0.0\&quot;);\nvar newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;);\nchai_1.expect(newBomArray.length).to.equal(2, \&quot;Filter Run didn&#x27;t product the correct length of 2 but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[1].BrandPriority).to.equal(4, \&quot;Filter Run didn&#x27;t detect value 1.BrandPriority in \&quot; + JSON.stringify(newBomArray));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;84319d7a-ac8d-4706-8873-0f49cdae13dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Filter with path&quot;,&quot;fullTitle&quot;:&quot;Map Functions: Map Run Filter with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }, { token: \&quot;Odd\&quot;, calculation: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [\n    {\n        Name: \&quot;Brand A\&quot;,\n        BrandIndex: 1\n    },\n    {\n        Name: \&quot;Brand B\&quot;,\n        BrandIndex: 2\n    },\n    {\n        Name: \&quot;Brand C\&quot;,\n        BrandIndex: 3\n    }\n];\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;2.0.0\&quot;);\nvar newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;, \&quot;bom.BrandPriority\&quot;);\nchai_1.expect(newBomArray.length).to.equal(2, \&quot;Filter Run didn&#x27;t product the correct length of 2 but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[1]).to.equal(4, \&quot;Filter Run didn&#x27;t detect value 1 in \&quot; + JSON.stringify(newBomArray));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c438b907-7617-441f-961f-aa164940f39f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4a0d05a7-c8d8-4333-8997-a59adde1356e&quot;,&quot;732dac08-4969-4ea0-959c-edaf56a872db&quot;,&quot;84319d7a-ac8d-4706-8873-0f49cdae13dd&quot;,&quot;c438b907-7617-441f-961f-aa164940f39f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;75d1f2d9-7f83-43cf-8524-0ad18d16d620&quot;,&quot;title&quot;:&quot;Performance&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_performance.ts&quot;,&quot;file&quot;:&quot;/test/test_performance.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;1000 records getRules&quot;,&quot;fullTitle&quot;:&quot;Performance 1000 records getRules&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var ruleSet = new author_1.RuleSet(undefined, {\n    inputs: [],\n    outputs: [],\n    name: \&quot;Peekaboo\&quot;\n});\nruleSet.builder\n    .withInput(\&quot;Name\&quot;).asString(\&quot;Herman\&quot;).thenNext()\n    .withInput(\&quot;LastName\&quot;).asString(\&quot;Geldenhuys\&quot;).thenNext()\n    .withInput(\&quot;Age\&quot;).asInteger(33).thenNext()\n    .withOutput(\&quot;FullName\&quot;).asString().withCalculation(\&quot;Name + &#x27; &#x27; + LastName\&quot;).thenNext()\n    .withOutput(\&quot;Summary\&quot;).withCalculation(\&quot;FullName + &#x27; is &#x27; + Age + &#x27; years old.&#x27;\&quot;);\nvar BOM = { Name: \&quot;Herman\&quot;, LastName: \&quot;Geldenhuys\&quot;, Age: 33, Summary: undefined };\nvar engine = new rulesengine_1.Rulesengine(ruleSet.getRules().rules, BOM, ruleSet.name, ruleSet.version, ruleSet.schemaVersion(), ruleSet.getInputNames());\nvar start = new Date();\nfor (var iterator = 0; iterator &lt; 1000; iterator++) {\n    BOM = { Name: \&quot;Herman\&quot;, LastName: \&quot;Geldenhuys\&quot;, Age: iterator, Summary: undefined };\n    engine.reset(BOM).run();\n}\nvar took = (new Date()).getTime() - start.getTime();\nconsole.log(\&quot;took: \&quot; + took);\nchai_1.expect(BOM.Summary).to.equal(\&quot;Herman Geldenhuys is 999 years old.\&quot;);\nchai_1.expect(took).to.lessThan(40);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2a6616a1-77c2-4bbe-a8ba-65a7043f9181&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Map without path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Map without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:251,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000].BrandPriority).to.equal(10001, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c1363c4e-c672-4cc0-b954-0e8954f56db1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Map without path Using complex model&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Map without path Using complex model&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:650,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }, { token: \&quot;Odd\&quot;, calculation: \&quot;BrandIndex % 2 === 1\&quot; }, { token: \&quot;Even\&quot;, calculation: \&quot;!Odd\&quot; }, { token: \&quot;Complex\&quot;, calculation: \&quot;Odd + &#x27;:&#x27; + Even + &#x27;:&#x27; + BrandPriority\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000].BrandPriority).to.equal(10001, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cdec71ff-4225-4d77-97a7-716a4ca040ff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Map with path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Map with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:234,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;MapRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;MapRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.mapRun(bomArray, \&quot;bom.BrandPriority\&quot;, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(bomArray.length, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000]).to.equal(10001, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;10a49360-2332-4158-917d-6630e4f0ae8a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Filter without path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Filter without path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:353,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;1\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }, { token: \&quot;Odd\&quot;, calculation: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;1.0.0\&quot;), newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;, undefined, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(50000, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000].BrandPriority).to.equal(20002, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;45395867-0c55-414a-afcc-375e33a6044e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Performance: 100 000 - Filter with path&quot;,&quot;fullTitle&quot;:&quot;Performance Performance: 100 000 - Filter with path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:299,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decisionObjectStructure = {\n    name: \&quot;FilterRun\&quot;,\n    version: \&quot;2\&quot;,\n    inputs: [{ token: \&quot;BrandIndex\&quot;, dataType: author_1.DataTypeEnum.Integer }],\n    outputs: [{ token: \&quot;BrandPriority\&quot;, calculation: \&quot;BrandIndex + 1\&quot; }, { token: \&quot;Odd\&quot;, calculation: \&quot;BrandIndex % 2 === 1\&quot; }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decisionObjectStructure);\nvar bomArray = [];\nfor (var index = 0; index &lt; 100000; index++) {\n    bomArray.push({\n        Name: \&quot;Brand \&quot; + index,\n        BrandIndex: index\n    });\n}\nvar rules = decisionObject.getRules(), engine = new rulesengine_1.Rulesengine(rules.rules, {}, \&quot;FilterRun\&quot;, \&quot;2.0.0\&quot;), newBomArray = engine.filterRun(bomArray, \&quot;bom.Odd === true\&quot;, \&quot;bom.BrandPriority\&quot;, { withStats: true });\nchai_1.expect(newBomArray.length).to.equal(50000, \&quot;Map Run didn&#x27;t product the correct length of \&quot; + bomArray.length + \&quot; but got \&quot; + newBomArray.length);\nchai_1.expect(newBomArray[10000]).to.equal(20002, \&quot;Map Run didn&#x27;t detect BrandPriority in \&quot; + JSON.stringify(newBomArray[0]));&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a9008dc0-3378-4f44-ae31-dd717403714a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2a6616a1-77c2-4bbe-a8ba-65a7043f9181&quot;,&quot;c1363c4e-c672-4cc0-b954-0e8954f56db1&quot;,&quot;cdec71ff-4225-4d77-97a7-716a4ca040ff&quot;,&quot;10a49360-2332-4158-917d-6630e4f0ae8a&quot;,&quot;45395867-0c55-414a-afcc-375e33a6044e&quot;,&quot;a9008dc0-3378-4f44-ae31-dd717403714a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1800,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;82d86238-d8a9-4962-8a4c-0a844cb1fd9d&quot;,&quot;title&quot;:&quot;Schema: Input Paths&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_schema.ts&quot;,&quot;file&quot;:&quot;/test/test_schema.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Level 0 Input: Name=Ransom&quot;,&quot;fullTitle&quot;:&quot;Schema: Input Paths Level 0 Input: Name=Ransom&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Name\&quot;,\n            name: \&quot;Name\&quot;\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Echo\&quot;,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            calculation: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: []\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision), BOM = decisionObject.generateSampleBOM(), engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run();\nvar result = rulesengine_1.getBOMValue(BOM, \&quot;bom.Name\&quot;);\nchai_1.expect(result).to.equal(\&quot;Ransom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;29228f2c-2f48-433c-aa96-9c573a01c03a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Level 1 Input: Client.Name=Ransom&quot;,&quot;fullTitle&quot;:&quot;Schema: Input Paths Level 1 Input: Client.Name=Ransom&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Client.Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Name\&quot;,\n            name: \&quot;Name\&quot;\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Echo\&quot;,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            calculation: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: [{\n                    to: undefined,\n                    includeTo: false,\n                    includeFrom: false,\n                    from: undefined,\n                    expression: \&quot;Name === &#x27;Ransom&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean,\n                    number: undefined,\n                    token: \&quot;Name is Ransom\&quot;\n                }]\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision);\nvar BOM = decisionObject.generateSampleBOM();\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equal(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equal(\&quot;RansomRansom\&quot;);\ndecision.outputs[0].conditions[0].expression = \&quot;Name !== &#x27;Ransom&#x27;\&quot;;\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nBOM = decisionObject.generateSampleBOM();\nengine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equals(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;25b8d054-bbab-4216-90ab-f02012afe870&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;29228f2c-2f48-433c-aa96-9c573a01c03a&quot;,&quot;25b8d054-bbab-4216-90ab-f02012afe870&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;16287162-0188-4127-bc44-32825ceb68ad&quot;,&quot;title&quot;:&quot;Conditions: Simple&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_schema.ts&quot;,&quot;file&quot;:&quot;/test/test_schema.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Boolean = true&quot;,&quot;fullTitle&quot;:&quot;Conditions: Simple Boolean = true&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Client.Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Name\&quot;,\n            name: \&quot;Name\&quot;\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Echo\&quot;,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            calculation: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: [{\n                    to: undefined,\n                    includeTo: false,\n                    includeFrom: false,\n                    from: undefined,\n                    expression: \&quot;Name === &#x27;Ransom&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean,\n                    number: undefined,\n                    token: \&quot;Name is Ransom\&quot;\n                }]\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision);\nvar BOM = decisionObject.generateSampleBOM();\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equal(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.engine.Schema.conditions.Echo.Echo_1_Name_is_Ransom\&quot;)).to.equal(true);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equal(\&quot;RansomRansom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;86a7124f-3ea6-4d57-a063-06401c40548b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Boolean = false&quot;,&quot;fullTitle&quot;:&quot;Conditions: Simple Boolean = false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;var decision = {\n    decisionObjectType: author_1.DecisionObjectType.RuleSet,\n    version: \&quot;1\&quot;,\n    name: \&quot;Schema\&quot;,\n    inputs: [{\n            mockValue: \&quot;&#x27;Ransom&#x27;\&quot;,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Client.Name\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Name\&quot;,\n            name: \&quot;Name\&quot;\n        }],\n    outputs: [{\n            ruleBehaviour: rulesengine_1.RuleBehaviour.Normal,\n            mockValue: undefined,\n            definition: \&quot;\&quot;,\n            relativePath: \&quot;Echo.Echo\&quot;,\n            dataType: author_1.DataTypeEnum.String,\n            token: \&quot;Echo\&quot;,\n            name: \&quot;Echo\&quot;,\n            decisionObject: undefined,\n            rawValue: false,\n            calculation: \&quot;Name + Name\&quot;,\n            inputMappings: [],\n            conditions: [{\n                    to: undefined,\n                    includeTo: false,\n                    includeFrom: false,\n                    from: undefined,\n                    expression: \&quot;Name !== &#x27;Ransom&#x27;\&quot;,\n                    conditionType: author_1.ConditionTypeEnum.Boolean,\n                    number: undefined,\n                    token: \&quot;Name is Ransom\&quot;\n                }]\n        }]\n};\nvar decisionObject = new author_1.DecisionObject(undefined, decision);\nvar BOM = decisionObject.generateSampleBOM();\ndecisionObject = new author_1.DecisionObject(undefined, decision);\nvar engine = new rulesengine_1.Rulesengine(decisionObject.getRules().rules, BOM, decisionObject.name, decisionObject.version, decisionObject.schemaVersion(), decisionObject.getInputNames());\nengine.run({ withStats: true });\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Client.Name\&quot;)).to.equal(\&quot;Ransom\&quot;);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.engine.Schema.conditions.Echo.Echo_1_Name_is_Ransom\&quot;)).to.equal(false);\nchai_1.expect(rulesengine_1.getBOMValue(BOM, \&quot;bom.Echo.Echo\&quot;)).to.equals(undefined);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;68c691d0-dc99-4ca5-ba05-e97b414e813c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;86a7124f-3ea6-4d57-a063-06401c40548b&quot;,&quot;68c691d0-dc99-4ca5-ba05-e97b414e813c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0dee330d-8c23-41b8-8ed0-978b1407b5a4&quot;,&quot;title&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/test/test_schema.ts&quot;,&quot;file&quot;:&quot;/test/test_schema.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;GreaterThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside GreaterThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.GreaterThan).to.equal(\&quot;6 is greater than Bottom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1f5ee267-33ce-4ceb-b4b6-5babff8a8735&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;LessThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside LessThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.LessThan).to.equal(\&quot;6 is less than Top\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cec4520d-9bbe-40f6-831d-bef0d189bde9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GreaterThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside GreaterThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.GreaterThanOrEqualTo).to.equal(\&quot;6 is greater than or equal to Bottom\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a76b800b-890d-4608-aa37-7bdee8390451&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;LessThan&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside LessThan&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.LessThanOrEqualTo).to.equal(\&quot;6 is less than or equal to Top\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;738145be-50e8-4087-9b10-ad0dc51a1b73&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Between&quot;,&quot;fullTitle&quot;:&quot;Conditionals: GreaterThan, LessThan, Between, Outside Between&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;chai_1.expect(BOM.Results.Between).to.equal(\&quot;6 is between bom.Number.Bottom and Top\&quot;);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b746142e-90e2-4a4e-ac24-09257aec2769&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1f5ee267-33ce-4ceb-b4b6-5babff8a8735&quot;,&quot;cec4520d-9bbe-40f6-831d-bef0d189bde9&quot;,&quot;a76b800b-890d-4608-aa37-7bdee8390451&quot;,&quot;738145be-50e8-4087-9b10-ad0dc51a1b73&quot;,&quot;b746142e-90e2-4a4e-ac24-09257aec2769&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},&quot;copyrightYear&quot;:2019}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;public/test-results&quot;,&quot;reportTitle&quot;:&quot;omnirules&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;public/test-results/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/public/test-results/index.json&quot;,&quot;htmlFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omnirules/public/test-results/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>